<?xml version="1.0" encoding="utf-8" ?>
<Game Name="pong" Width="800" Height="600" FirstScene="game" IsFullScreen="false" xmlns="http://www.kinectitude.com/2012/v1">

  <Using File="Kinectitude.Kinect.dll">
    <Define Name="KinectFollowComponent" Class="Kinectitude.Kinect.KinectFollowComponent"/>
    <Define Name="KinectManager" Class="Kinectitude.Kinect.KinectManager"/>
    <Define Name="GestureEvent" Class="Kinectitude.Kinect.GestureEvent"/>
  </Using>

  <Using File="Kinectitude.Physics.dll">
    <Define Name="PhysicsManager" Class="Kinectitude.Physics.PhysicsManager"/>
    <Define Name="PhysicsComponent" Class="Kinectitude.Physics.PhysicsComponent"/>
    <Define Name="CrossesLineEvent" Class="Kinectitude.Physics.CrossesLineEvent"/>
    <Define Name="CollisionEvent" Class="Kinectitude.Physics.CollisionEvent"/>
  </Using>

  <Using File="Kinectitude.Render.dll">
    <Define Name="RenderManager" Class="Kinectitude.Render.RenderManager"/>
    <Define Name="RenderComponent" Class="Kinectitude.Render.RenderComponent"/>
    <Define Name="TextRenderComponent" Class="Kinectitude.Render.TextRenderComponent"/>
    <Define Name="ImageRenderComponent" Class="Kinectitude.Render.ImageRenderComponent" />
  </Using>

  <Using File="Kinectitude.DirectInput.dll">
    <Define Name="KeyEvent" Class="Kinectitude.DirectInput.KeyEvent"/>
    <Define Name="KeyboardManager" Class="Kinectitude.DirectInput.KeyboardManager"/>
    <Define Name="MouseManager" Class="Kinectitude.DirectInput.MouseManager"/>
    <Define Name="MouseFollowComponent" Class="Kinectitude.DirectInput.MouseFollowComponent"/>
    <Define Name="MouseClickEvent" Class="Kinectitude.DirectInput.MouseClickEvent"/>
  </Using>


  <Prototype Name="ball" Value="0">
    <Component Type="RenderComponent" FillColor="Red" Shape="Rectangle" />
    <Component Type="TransformComponent" X="250" Y="250" Width="24" Height="24"/>
    <Component Type="PhysicsComponent" MinimumVelocity="5" MaximumVelocity="5" XVelocity="40" YVelocity="20" Shape="Ellipse" Restitution="1" Mass="1" Friction="0" LinearDamping="0" MovesWhenHit="true" FixedRotation="false" AngularVelocity="1"/>
    <Event Type="CollisionEvent" CollidesWith="$block">
      <Action Type="SetPositionAction" X="400" Y="300" />
      <Action Type="IncrementAction" Target="scene.balls" IncrementBy="scene.decrementValue"/>
    </Event>
  </Prototype>

  <Prototype Name="block">
    <Component Type="RenderComponent" FillColor="LimeGreen" Shape="Rectangle"/>
    <Component Type="PhysicsComponent" XVelocity="0" YVelocity="0" Shape="Rectangle" Restitution="0" Mass="1" Friction="0" LinearDamping="0" MovesWhenHit="false" FixedRotation="true"/>
    <Component Type="TransformComponent" Width="80" Height="20"/>
    <Event Type="CollisionEvent" CollidesWith="$ball">
      <Action Type="DestroyAction" />
    </Event>
  </Prototype>

  <Scene Name="game" balls="3" decrementValue="-1">
    <Entity Name="test" someVal="World!">
      <Component Type="TransformComponent" X="80" Y="80" />
      <Component Type="TextRenderComponent" Value="" FontColor="Yellow" />
      <Event Type="SceneStartsEvent">
        <Action Type="SetAction" Target="TextRenderComponent.Value" Value="Hello {this.someVal}" />
      </Event>
    </Entity>
  </Scene>
</Game>